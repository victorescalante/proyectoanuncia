{"version":3,"sources":["functions.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["function initMap() {\n\n    var myLatLng = {lat: 19.3431244, lng: -99.4210658};\n    var geocoder = new google.maps.Geocoder;\n    var btnAddress = document.getElementById('btnAddress');\n\n\n    var styles = [\n        {\n            \"featureType\": \"road.highway\",\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                { \"visibility\": \"on\" },\n                { \"saturation\": 45 },\n                { \"lightness\": -10 },\n                { \"gamma\": 0.82 },\n                { \"weight\": 0.8 },\n                { \"color\": \"#f35e2c\" }\n            ]\n        },{\n            \"elementType\": \"geometry.fill\",\n            \"stylers\": [\n                { \"hue\": \"#00f6ff\" }\n            ]\n        }\n    ];\n\n    function createMap() {\n        // Create a map object and specify the DOM element for display.\n        var map = new google.maps.Map(document.getElementById('map'), {\n            center: myLatLng,\n            scrollwheel: false,\n            zoom: 8,\n        });\n\n        return map;\n    }\n\n    function createMarker(map,pos) {\n\n        // Create a marker and set its position.\n        var marker = new google.maps.Marker({\n            map: map,\n            position: pos,\n            draggable: true,\n            title: 'Posición de la marca'\n        });\n\n        return marker;\n    }\n\n    function events(map,marker) {\n\n        google.maps.event.addListener(marker, 'dragend', function () {\n            $positions = getLatAndLong();\n            getAddress($positions);\n            map.setCenter({lat: getLat(), lng: getLong()});\n            //codeAddress(marker);\n        });\n\n        /*\n        google.maps.event.addListener(map,marker, \"dblclick\", function() {\n            console.log(\"Entro a eliminar\");\n            map.removeOverlay(marker);\n        });\n        */\n\n        google.maps.event.addListener(marker, 'click', function () {\n            $positions = getLatAndLong();\n            getAddress($positions);\n            map.setCenter({lat: getLat(), lng: getLong()});\n            //codeAddress(marker);\n        });\n\n        google.maps.event.addListener(map, 'click', function () {\n            createMarker(map,{lat: 19.3431244, lng: -99.4210658});\n        });\n\n        google.maps.event.addDomListener(window, 'resize', function() {\n            map.setCenter(marker.getPosition());\n        });\n\n\n    }\n\n\n    function events_dom() {\n\n        google.maps.event.addDomListener(btnAddress, 'click', function() {\n            var address_form = $(\".address\").val();\n            if(address_form.length!=0){\n                codeAddress(address_form);\n            }else{\n                alert('Tienes que colocar una dirección');\n            }\n\n        });\n\n    }\n\n\n    function getLatAndLong() {\n        var lat = marker.getPosition().lat();\n        var long = marker.getPosition().lng();\n        sendFormLatAndLong(lat, long);\n        return lat+\",\"+long;\n    }\n\n\n    function getLat() {\n        var lat = marker.getPosition().lat();\n        return lat;\n    }\n\n\n    function getLong() {\n        var long = marker.getPosition().lng();\n        return long;\n    }\n\n\n\n    function getAddress(positions) {\n        /* Other solution\n         geocoder.geocode({'location': {lat: 19.4171849, lng: -99.5617849}}, function(results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                if (results[1]) {\n                    console.log(results);\n                }\n            }\n         });\n         */\n\n        $.ajax({\n            method: \"GET\",\n            url: \"http://maps.googleapis.com/maps/api/geocode/json?latlng=\"+positions,\n            success: function(resp){\n                console.log(resp.status);\n                sendFormAddress(resp.results[0].formatted_address);\n\n            }\n        });\n    }\n\n    function sendFormLatAndLong(lat, long) {\n\n        $(\".latitude\").val(lat);\n        $(\".longitude\").val(long);\n    }\n\n    function sendFormAddress(address) {\n        $(\".address\").val(address);\n    }\n\n\n    function codeAddress(address) {\n        geocoder.geocode( { 'address': address}, function(results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                console.log(results);\n                var p_lat = (results[0].geometry.location.lat());\n                var p_long = (results[0].geometry.location.lng());\n                marker.setPosition({lat: p_lat, lng: p_long});\n                map.setCenter({lat: getLat(), lng: getLong()});\n                getLatAndLong();\n            } else {\n                alert(\"Error: \" + status);\n            }\n        });\n    }\n\n\n\n\n    element = document.querySelector('#map');\n\n    events_dom();\n\n    if (element) {\n\n        map = createMap();\n        marker = createMarker(map,myLatLng);\n        events(map,marker);\n        map.setOptions({styles: styles});\n\n\n    }\n\n\n\n}\n\n\n// End-code Google Maps\n\n//Start Code of the views\n\n\n$(document).ready(function ()\n{\n\n    $('.btnImages').on('click', function () {\n        event.preventDefault();\n        $(\"input[type='file']\").trigger('click');\n    });\n\n    /*\n    $('#btnAddress').on('click', function () {\n        var address_form = $(\".address\").val();\n        initMap().codeAddress(address_form);\n    });\n    */\n});\n\n\n\n\n\n\n\n// Functions for ajax\ntoken = $(\"input[name='_token']\").val();\n\n/*\n$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $(\"input[name='_token']\").val(),\n    }\n});\n*/\n\n\nfunction recargarS2(id)\n{\n    $('#municipalities').html('<option value=\"\">Cargando datos ..</option>');\n\n    $.ajax({\n        method: \"GET\",\n        url: \"/sistema/puentes/create/select/\",\n        data: {\n            id: id,\n            _method: token\n        },\n        success: function(resp){\n            $('#municipalities').html(resp)\n        }\n    });\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n$(document).ready(function() {\n\n    var MaxInputs       = 8; //maximum input boxes allowed\n    var contenedor   \t= $(\"#contenedor\"); //Input boxes wrapper ID\n    var AddButton       = $(\"#agregarCampo\"); //Add button ID\n\n    //var x = contenedor.length; //initlal text box count\n    var x = $(\"#contenedor div\").length + 1;\n    var FieldCount = x-1; //to keep track of text box added\n\n    $(AddButton).click(function (e)  //on add input button click\n    {\n        if(x <= MaxInputs) //max input box allowed\n        {\n            FieldCount++; //text box added increment\n            //add input box\n            $(contenedor).append('<div class=\"added\"><input type=\"text\" name=\"mitexto[]\" id=\"campo_'+ FieldCount +'\" placeholder=\"Texto '+ FieldCount +'\"/><a href=\"#\" class=\"eliminar\">&times;</a></div>');\n            x++; //text box increment\n        }\n        return false;\n    });\n\n    $(\"body\").on(\"click\",\".eliminar\", function(e){ //user click on remove text\n        if( x > 1 ) {\n            $(this).parent('div').remove(); //remove text box\n            x--; //decrement textbox\n        }\n        return false;\n    });\n\n});\n\n\n\n\n//Validate edit\n\n\n    $(document).ready(function ()\n    {\n        $('.btnImages').on('click', function () {\n            event.preventDefault();\n            $(\"input[type='file']\").trigger('click');\n        });\n    });\n\n\n\n\n"],"sourceRoot":"/source/"}